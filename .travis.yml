language: objective-c
before_script:
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/profile/3DDemo_Ad_Hoc.mobileprovision.enc
  -d -a -out scripts/profile/3DDemo_Ad_Hoc.mobileprovision
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.cer.enc -d -a
  -out scripts/certs/dist.cer
- openssl aes-256-cbc -k "$ENCRYPTION_SECRET" -in scripts/certs/dist.p12.enc -d -a
  -out scripts/certs/dist.p12
- ./scripts/add-key.sh
script:
- xctool -workspace 3DRotationDemo.xcodeproj/project.xcworkspace -scheme 3DRotationDemoForBuild -sdk iphoneos -configuration Release OBJROOT=$PWD/build SYMROOT=$PWD/build ONLY_ACTIVE_ARCH=NO 'CODE_SIGN_RESOURCE_RULES_PATH=$(SDKROOT)/ResourceRules.plist'
after_success:
- ./scripts/sign-and-upload.sh
after_script:
- ./scripts/remove-key.sh
env:
  global:
  - secure: UjUXzjuK6FG0Ad4lqbADb+fSeSDuej/NXX65BO9O/oxuFj7oPBUtnf+AzBLTWyufsvP4Hj0IPufj1cEDNnySS5lBIhRWojJVNmUuZi3bH51V/AA4Io8XZfY3L2uWEKKO1dum4ImvdjVBjY4Xzcih/sY/4gA4dTdRVY3tXe7S0v8XiiuXzA9aqLUYJ5aaZLCMYGSXeA0nYnmuTmAKcEbGfQl4UmUPGZh2SxZcewrkoKLJwKjN9saE0IMNfnUcvTrht2opPm+ccwwTobLcVYMf51jd+ykPEAFGpBxdz7fR+iIQMFG7ZaCdXP30u43B/hf740+eKa851QiJ0x6GIK4lWepShy5G5Brg4GMEiknO12vULGMYAiBTW09H+PTjFEpfXAKiV92Gl7cI9v+orH7vn2LPjXyMxx1lmY7kROeNjXj34ZZ/KyNPQlyykYivkKv08DBB7wMOAxa6I+tpUWGFOIC3XcN1S3oOnhTYhT7PC0q9cm3ImKK9nVfYCOsbQqw4bgPjKyee6tfSffGoaWrjmyOnOiF3dfEh4p/x288sDQAL/qio7nU/WI7UG9Wr4JogwUs9y+sfLa7Iq8pkhR1ZCQmfBBpTrEcc83hPWKX3Bmtgp2c17Y9yToZ6hLYw3rirGL9/f4a20xOCvgQTOBLj1Emta0f3Nua/OIPbA/3uYVU=
  - secure: NX3y9IGOGN+l7q8eJ3EjXUwfNVHaefGExpNptmEICc8uYNJB5w6fg4efVgfHEooeInsQZGnTnHRvC4tlS9Q87U4IPB09qdepVHFszwXtFz/CTUFlDg4E/fEPBEPwkaLFEb1SYG9WUQVeG8ZISTVB9e+aKJXsnVsuXQztFv3rbhLwAuHitVJveB/MU60CuzAClSvwM9M0RffywHTpA3B5thSEbiQnTDoKZTh8SUj+n6AjJVyrhFrki7ahIzrRp4PnmzZit0NZbaSDVDmSrskBNg2bouOlUEZHGW37eCMP2E0kYsSAvx2cPhdGRLg5fsI0Hc26BFzCVQa6kB0RxGDW9cO34Pmij+e1ubDIy5yQ+9a4GccJAvRfO7PQdqIZMyS6F87jJfCcCrI62NKDiWrfzdQ3C+38/z6iN/9p4reQDJIM8qGf1bYByLvNZoVKun/GlfEXZCk6Bj4j9zpqtQzvLObcXTsOVYPIlPGXKxwekEBkzZ5zdVwtL2NJc0DHCFhC0QKJwZLbC3UVE7umrYBPUntPrIC1Am25aLCuD7iokp8e8KFslewJkaI3w/0G2bTyh2wbgBMg1jdfkerjhDkSRrsmnCkSvZdpDEqxS1sz2XFXPV75Mn+oi2RlBTupWBq4gPlNAx12vSOKF3J2K5czmh+LHXSggzTOEaV+b7m0xYE=
  - APP_NAME="3DRotationDemo"
  - 'DEVELOPER_NAME="iPhone Distribution: Extentia Information Technology Private Limited (LH38KVY7ML)"'
  - PROFILE_NAME="3DDemo_Ad_Hoc"
  - secure: JCFISXLn3BG/f7ntcPv/kP0Xf6GzS0+iYtBLt4DTeXtmWKa8EJDQ7aJlpjYpq/qtOFkyX2i08UvN0TRjuT8hpMrurVPLqq7dVSv8qUiTMFDGtmI7dlH2GHQW2Hv3NTWRVJ3fp0jrB1T7Mzz+actCGMGyfh5tpfY9CtgwHOVrX0VYo1HFR2R0mhgWp8IqigwDxlskAYUHCUqrhZTGrNnV8TLIWluPYw1/jBWHloC9fh+VeTT15bYhX6cwEaxc7kmkeKdoiAuiLytsDlsLY9OM2MIa3oHDJeIp2ap41Kb600sGydAtcQF0J0ZjmLD7ql4vp+K+kuesaVGnxtRDW94InPtuVICYDJWcAuuNd+irPPFea91ept+8u7f1jEkPS+XI6ohPFdtTfOPSgUc8UjIqeSVF/hJXNFucUFaEmYVqmMv+LFIuFHzjDVwTxj6LLOxqk6A2+WC81Eh70iMPxHA7ziCjXqq/qJfrXmSK9R8bZPudQXc9MAJhGUiod6sSQLcn4vOAPBJiHiZ4Pw/NFUUXtHoRFeK+wYGvqx8zhlppgGaKDLgO6mNVQSayWMm3+L2y2yvNqJz7b5sEq1p3NCZUq4RPkba/KbQHR97Nz8Dkvr/O66oi7pekFbi56ji9YQG4gmMmaQ1pj1DdBSUqvQ59TPZZJIT4JlY8y/sl+6SkjgE=
  - secure: 2QdouvCv9MTgmkshqise3JIyAv+6oEccDkh9EFgnJxIqf2XRpGro/nDXgbDYUdoGWSfieKvaGHYaxdOLUtjV/h2ckoNz9PB+GyZ9ILZa1Z+61OJJOWT3rgBaifKLvk+AcJC0tf2CHOX52WPDbQUPvwGMYohund+HNKXwVrtItatwXCeDrwGfe9wLWhFizMRBUOxWRq/prGAZldaSJw4oVYr+fbAveEw0uWjKiCFCI0AEeyWDLXquzvqHaKAztnx2yJEHsILaisErtWXj7ypoNDb5iUOx5X9s7r2GD3kabVeRJK2rgT9nPdfs5Yq27yxoxLyEaM5G0vVBbzr78Vd5XviBWNzwttj5SwC+DS5g3jAO0JO/aqtFSeUIcbpFRFUxU7lNG7HZxm/6xEO36tQnxrkVoR/sHbW+ZVfvFwJVKK2GNLG3Ks6pxUN7cnMpg9ALi+SbkoF38NikqAR4szGtIs4TK4pNJWtB4sl8fE+7Ab4qFILGUsFs8gvJoXevfx9ZYO0wkkDfrqNMBJ2cZA/7U6NtdRm7FKFlLVQQjexnu2U6zUQGw1jedlGETi9e1edwvPEMapij9ZxF3AmvtA2gBiJuf/Xzbp1dis3hxGQ2jBXa60pazr2442boKGWwKydQ8ti+Uvx60ekMkkYr73OUIYQCgWaXR0q66v4QEgG2+/w=
